!function(){function o(e){var t;document.createEvent?(t=document.createEvent("HTMLEvents")).initEvent("change",!0,!0):(t=document.createEventObject()).eventType="change",t.eventName="change",document.createEvent?e.dispatchEvent(t):e.fireEvent("on"+t.eventType,t)}var t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ",a="eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.EkN-DOsnsuRjRO6BxXemmJDm3HbxrbRzXglbN2S4sOkopdU4IsDxTI8jO19W_A4K8ZPJijNLis4EZsHeY559a4DFOd50_OqgHGuERTqYZyuhtF39yxJPAjUESwxk2J5k_4zM3O-vtd1Ghyo4IbqKKSy6J9mTniYJPenn5-HIirE",n="-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDdlatRjRjogo3WojgGHFHYLugdUWAY9iR3fy4arWNA1KoS8kVw33cJibXr8bvwUAUparCwlvdbH6dvEOfou0/gCFQsHUfQrSDv+MuSUMAe8jzKE4qW+jK+xQU9a03GUnKHkkle+Q0pX/g6jXZ7r1/xAK5Do2kQ+X5xK9cipRgEKwIDAQAB\n-----END PUBLIC KEY-----  ",r="-----BEGIN RSA PRIVATE KEY-----\nMIICWwIBAAKBgQDdlatRjRjogo3WojgGHFHYLugdUWAY9iR3fy4arWNA1KoS8kVw33cJibXr8bvwUAUparCwlvdbH6dvEOfou0/gCFQsHUfQrSDv+MuSUMAe8jzKE4qW+jK+xQU9a03GUnKHkkle+Q0pX/g6jXZ7r1/xAK5Do2kQ+X5xK9cipRgEKwIDAQABAoGAD+onAtVye4ic7VR7V50DF9bOnwRwNXrARcDhq9LWNRrRGElESYYTQ6EbatXS3MCyjjX2eMhu/aF5YhXBwkppwxg+EOmXeh+MzL7Zh284OuPbkglAaGhV9bb6/5CpuGb1esyPbYW+Ty2PC0GSZfIXkXs76jXAu9TOBvD0ybc2YlkCQQDywg2R/7t3Q2OE2+yo382CLJdrlSLVROWKwb4tb2PjhY4XAwV8d1vy0RenxTB+K5Mu57uVSTHtrMK0GAtFr833AkEA6avx20OHo61Yela/4k5kQDtjEf1N0LfI+BcWZtxsS3jDM3i1Hp0KSu5rsCPb8acJo5RO26gGVrfAsDcIXKC+bQJAZZ2XIpsitLyPpuiMOvBbzPavd4gY6Z8KWrfYzJoI/Q9FuBo6rKwl4BFoToD7WIUS+hpkagwWiz+6zLoX1dbOZwJACmH5fSSjAkLRi54PKJ8TFUeOP15h9sQzydI8zJU+upvDEKZsZc/UhT/SySDOxQ4G/523Y0sz/OZtSWcol/UMgQJALesy++GdvoIDLfJX5GBQpuFgFenRiRDabxrE9MNUZ2aPFaFp+DyAe+b4nDwuJaW2LURbr8AEZga7oQj0uYxcYw==\n  -----END RSA PRIVATE KEY-----  ",e=CodeMirror;function i(e){e.replaceSelection("   ","end")}var s=e(document.getElementsByClassName("js-input")[0],{mode:"jwt",theme:"night",lineWrapping:!0,extraKeys:{Tab:i}}),l=e(document.getElementsByClassName("js-header")[0],{mode:"application/json",lineWrapping:!0,extraKeys:{Tab:i},lint:!0}),c=e(document.getElementsByClassName("js-payload")[0],{mode:"application/json",lineWrapping:!0,extraKeys:{Tab:i},lint:!0}),u=$('input[name="algorithm"]'),d=$('input[name="token-type"]');function g(e,t,a){e.off("change",m),null!==t.result&&void 0!==t.result?e.setValue(t.result):e.setValue(""),t.error?a.addClass("error"):a.removeClass("error"),e.on("change",m)}function p(e){e=h(e);if(e){var e=e.split("."),t=document.getElementsByName("secret")[0];if(v("js-signature")){var a=window.decode(e[0]);try{var n=JSON.parse(a.result).alg;(n=$('.algorithm input[value="'+n+'"]')).prop("checked",!0),o(n.get(0))}catch(e){console.error("Invalid header decoded")}n=$(".jwt-header"),a=(g(l,a,n),window.decode(e[1])),n=$(".jwt-payload");g(c,a,n),o(t),window.matchMedia("(min-width: 768px)").matches&&autoHeightInput()}}}function m(e){s.off("change",p);var t,a=y(),n=document.getElementsByName("secret")[0],r=document.getElementsByName("is-base64-encoded")[0],a=window.sign(a,l.getValue(),c.getValue(),f(a,"sign"),r.checked);a.error?(s.setValue(""),t={payload:".jwt-payload",header:".jwt-header"},$(".jwt-payload").removeClass("error"),$(".jwt-header").removeClass("error"),a.error.who&&a.error.who.map(function(e){return t[e]}).forEach(function(e){$(e).addClass("error")}),$(".input").addClass("error"),a.result?s.setValue(a.result):s.setValue("")):(s.setValue(a.result),$(".input").removeClass("error"),$(".jwt-payload").removeClass("error"),$(".jwt-header").removeClass("error"),r=a.result,safeLocalStorageSetItem("jwtValue",r)),s.on("change",p),o(n)}function v(e){e=document.getElementsByClassName(e);return e.length?e[0]:null}function h(e){e=e.getValue();return e?e.replace(/\s/g,""):null}s.on("change",p),c.on("change",m),l.on("change",m);var E=document.getElementsByName("secret")[0],I=document.getElementsByName("is-base64-encoded")[0];function w(){var e,t,a=y(),n=v("js-signature"),r=v("jwt-signature");n&&(t=h(s),(e=I.checked)&&!window.isValidBase64String(E.value)?$(r).addClass("error"):($(r).removeClass("error"),t=(r=window.verify(a,t,f(a,"verify"),e)).error,r=r.result,!t&&r?($(n).removeClass("invalid-token"),$(n).addClass("valid-token"),n.innerHTML='<i class="icon-budicon-499"></i> signature verified'):($(n).removeClass("valid-token"),$(n).addClass("invalid-token"),n.innerHTML='<i class="icon-budicon-501"></i> invalid signature')))}function f(e,t){var a=$('input[name="secret"]'),n=$('textarea[name="private-key"]'),r=$('textarea[name="public-key"]');return("HS256"===e?a:"sign"===t?n:r).val()}function y(){return u.filter(":checked").val()}function j(){var e=u.filter(":checked").val();$(".js-input").attr("data-alg",e),$(".jwt-signature pre").hide().filter("."+e).show(),"id_token"===k()&&h(s)===t&&"RS256"===e?(s.setValue(a),$(".jwt-signature textarea[name=public-key]").val(n),$(".jwt-signature textarea[name=private-key]").val(r)):"id_token"===k()&&h(s)===a&&"HS256"===e&&s.setValue(t)}function k(){return d.filter(":checked").val()}if(j(),u.on("change",function(){j(),w()}),d.on("change",function(){var t,e,a;a=k(),document.location.hash&&(e=document.location.hash.slice(1),t={},(e=e.split("&")).forEach(function(e){e=e.split("="),t[e[0]]=e[1]}),t[a])&&s.setValue(decodeURIComponent(t[a])),j(),w()}),$('.jwt-signature textarea[name="public-key"]').on("input",w),$('.jwt-signature textarea[name="private-key"]').on("input",function(){!function(){var e=$(this),t=("public-key"===e.prop("name")?/-----BEGIN (PUBLIC KEY|CERTIFICATE)-----(.|\n)*-----END (PUBLIC KEY|CERTIFICATE)-----/:/-----BEGIN RSA PRIVATE KEY-----(.|\n)*-----END RSA PRIVATE KEY-----/).test(e.val());t?e.removeClass("error"):e.addClass("error")}.apply(this),m()}),E.addEventListener("change",w,!1),E.addEventListener("keyup",w,!1),I.addEventListener("change",w,!1),document.location.search){var C=document.location.search.slice(1),A={};if((C=C.split("&")).forEach(function(e){e=e.split("="),A[e[0]]=e[1]}),A.value)return s.setValue(decodeURIComponent(A.value))}if(document.location.hash){C=document.location.hash.slice(1),A={};if((C=C.split("&")).forEach(function(e){e=e.split("="),A[e[0]]=e[1]}),A.access_token&&A.id_token&&$(".jwt-playground .selections .token-type").show(),A.id_token)return s.setValue(decodeURIComponent(A.id_token));if(A.access_token)return s.setValue(decodeURIComponent(A.access_token))}e=localStorage.getItem("jwtValue"),s.setValue(e||t),localStorage.removeItem("jwtValue")}();