"use strict";

!function (e) {
  console.log("hb_test"), e(document).on("heartbeat-send", function (e, o) {
    console.log("hb_send"), o.pf_heartbeat_request = "feed_state";
  }), e(document).on("heartbeat-tick", function (e, o) {
    var t;
    console.log("hb_tick"), console.log(o), o.pf_total_feeds && (o.pf_last_key != o.pf_feeds_iteration && (console.log("hb_not_done"), jQuery("#retrieving_feeds").html(function () {
      console.log("hb_write");
      var e = parseInt(o.pf_feeds_iteration, 10) + 1;
      return 'Retrieving feeds. Currently at <span id="rf-feed-title">' + o.pf_feed_title + '</span> feed number <span id="rf-iteration">' + e + '</span> of <span id="rf-total-feeds">' + o.pf_total_feeds + "</span>.";
    })), console.log(o.pf_feed_id), console.log(o.pf_feed_title), console.log(o.pf_last_key), console.log(o.pf_feeds_iteration), console.log(o.pf_total_feeds), (t = (parseInt(o.pf_feeds_iteration, 10) + 1) / parseInt(o.pf_total_feeds, 10) * 100) < 1 && (t = 1), console.log(t), jQuery("#rf-progressbar").progressbar({
      value: t
    }));
  });
}(jQuery), jQuery(window).on("load", function () {
  var e = 0,
      e = parseInt(jQuery("#rf-iteration").text(), 10) / parseInt(jQuery("#rf-total-feeds").text(), 10) * 100;
  console.log(e), e < 1 && (e = 1), jQuery("#rf-progressbar").progressbar({
    value: e
  });
});