function url_base64_decode(r){var e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}var t=window.atob(e);try{return decodeURIComponent(escape(t))}catch(r){return t}}!function(){var r="undefined"!=typeof exports?exports:"undefined"!=typeof self?self:$.global,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s(r){this.message=r}(s.prototype=new Error).name="InvalidCharacterError",r.btoa||(r.btoa=function(r){for(var e,t,n=String(r),o=0,a=c,i="";n.charAt(0|o)||(a="=",o%1);i+=a.charAt(63&e>>8-o%1*8)){if(255<(t=n.charCodeAt(o+=.75)))throw new s("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|t}return i}),r.atob=function(r){var e=String(r).replace(/[=]+$/,"");if(e.length%4==1)throw new s("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,o=0,a=0,i="";n=e.charAt(a++);~n&&(t=o%4?64*t+n:n,o++%4)&&(i+=String.fromCharCode(255&t>>(-2*o&6))))n=c.indexOf(n);return i}}(),window.hextorstr=function(r){return window.CryptoJS.enc.Hex.parse(r)},window.decode=function(r){var e=null,t=null;try{e=url_base64_decode(r),e=JSON.stringify(JSON.parse(e),void 0,2)}catch(r){t=r}return{result:e,error:t}},window.sign=function(r,e,t,n,o){var a,i,c="",s=null;try{a=JSON.stringify(JSON.parse(e))}catch(r){s={result:null,error:{cause:r,who:["header"]}}}try{i=JSON.stringify(JSON.parse(t))}catch(r){s?s.error.who.push("payload"):s={result:null,error:{cause:r,who:["payload"]}}}if(s)return s;if("HS256"===r)if(o)try{n=window.b64utob64(n),n=window.CryptoJS.enc.Base64.parse(n).toString()}catch(r){return{result:"",error:r}}else n=window.CryptoJS.enc.Latin1.parse(n).toString();try{c=KJUR.jws.JWS.sign(r,a,i,n)}catch(r){s=r}return{result:c,error:s}},window.isValidBase64String=function(r){try{return r=window.b64utob64(r),window.CryptoJS.enc.Base64.parse(r).toString(),!0}catch(r){return!1}},window.verify=function(r,e,t,n){var o="",a=null;if("HS256"===r)if(n)try{t=window.b64utob64(t),t=window.CryptoJS.enc.Base64.parse(t).toString()}catch(r){return{result:"",error:r}}else t=window.CryptoJS.enc.Latin1.parse(t).toString();try{o=KJUR.jws.JWS.verify(e,t)}catch(r){a=r}return{result:o,error:a}};